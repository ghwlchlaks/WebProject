<html>

<head>
  <!-- <meta name="google-signin-client_id" content="373179483442-a134eajj5vhh5dbil9hi0l951vhm15kb.apps.googleusercontent.com"> -->
  <!--<link rel='stylesheet' href='/../stylesheets/style.css' /> -->
  <!-- <script src="https://apis.google.com/js/platform.js" async defer></script> -->
  <script src="https://apis.google.com/js/client:platform.js?onload=start" async defer></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>

</head>

<body>
  <button id="signinButton"> Sign in with google</button>
  <!-- <div class="g-signin2" data-onsuccess="onSignIn"></div> -->
  <script>
    var auth2 = null
    function start() {
      gapi.load('auth2', function () {
        auth2 = gapi.auth2.init({
          client_id: "373179483442-a134eajj5vhh5dbil9hi0l951vhm15kb.apps.googleusercontent.com",
          scope: 'profile'
        })
      })
    }
    $('#signinButton').click(function() {
      console.log('signinButton clicked')
      auth2.grantOfflineAccess().then(signInCallback)
    })
    function signInCallback(authResult) {
      if(authResult['code']) {
        $('#signinButton').attr('style','display: none')
        console.log(authResult['code'])
        console.log(authResult)
      }
    }
  </script>
</body>

</html>